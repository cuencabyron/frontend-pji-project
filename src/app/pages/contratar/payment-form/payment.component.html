<div class="flow">
  <div class="flow-card">
    <h2 class="title">Pago</h2>
    <p class="subtitle">Completa el pago para continuar.</p>

    <div class="plan-summary">
      <div class="plan-label">Plan Seleccionado</div>
      <div class="plan-value">{{ productName }}</div>
    </div>

      <div class="section-title">Tarjeta de crédito o débito</div>

      <form class="grid" [formGroup]="form">
        <div class="field">
          <label>Nombre del titular <span> * </span></label>
          <input type="text" placeholder="Ingresa tu nombre" formControlName="titular" />
          <small class="error" *ngIf="form.get('titular')?.touched && form.get('titular')?.invalid">
            Ingrese un nombre valido
          </small>
        </div>

        <div class="field">
          <label>Número de tarjeta <span> * </span></label>
          <input type="text" inputmode="numeric" placeholder="0000 0000 0000 0000" formControlName="cardNumber" (input)="formatCardNumber($event)" maxlength="19"/>
          <small class="note">Aceptamos Visa, Mastercard, American Express y más.</small>
          <small class="error" *ngIf="form.get('cardNumber')?.touched && form.get('cardNumber')?.invalid">
            El numero de tarjeta es obligatorio
          </small>
        </div>

        <div class="field">
          <label>Fecha de expiración <span> * </span></label>
          <input type="text" inputmode="numeric" placeholder="MM/YY" formControlName="exp" />
          <small class="error" *ngIf="form.get('exp')?.touched && form.get('exp')?.invalid">
            Se requiere una fecha de vencimiento
          </small>
        </div>

        <div class="field">
          <label>Código de verificación <span> * </span></label>
          <input type="text" inputmode="numeric" placeholder="123" formControlName="cvv" />
          <small class="error" *ngIf="form.get('cvv')?.touched && form.get('cvv')?.invalid">
            No debe de contener más de tres digitos.
          </small>
        </div>

        <div class="field">
          <label>Nombre en la tarjeta <span> * </span></label>
          <input type="text" placeholder="Ingresa el nombre tal y como aparece esta en la tarjeta" formControlName="bank" />
          <small class="error" *ngIf="form.get('bank')?.touched && form.get('bank')?.invalid">
           El nombre en la tarjeta es obligatorio
          </small>
        </div>
      </form>

    <button class="btn primary pay-btn" (click)="pay()" [disabled]="form.invalid">
      Pagar
    </button>

    <div class="actions">
      <button class="btn ghost" (click)="back()">Anterior</button>
      <button class="btn primary" disabled>Siguiente</button>
    </div>
  </div>
</div>