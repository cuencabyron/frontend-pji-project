<!-- Sección del proceso de contratación en 3 pasos -->
<section class="proceso" id="proceso" aria-labelledby="proceso-title">
  <div class="container">

    <!-- Título principal de la sección (referenciado por aria-labelledby arriba) -->
    <h2 id="proceso-title" class="title">
      Contrata en <span class="accent">3 pasos</span>
    </h2>

    <!-- Subtítulo descriptivo; útil para contexto SEO/UX -->
    <p class="subtitle">Proceso 100% digital, seguro y eficiente.</p>

    <!-- Contenedor de la “línea de tiempo” (timeline).
         role="list": ayuda a que tecnologías asistivas lo traten como lista semántica,
         aria-label: nombre accesible de ese conjunto de pasos -->
    <div class="timeline" role="list" aria-label="Pasos del proceso">

      <!-- Cada paso es un “listitem” dentro del rol lista.
           *ngFor: itera el array `pasos` (definido en el .ts). También exponemos el índice `i`.
           aria-labelledby: vincula el item con su propio título (id generado más abajo). -->
      <article
        class="step"
        *ngFor="let paso of pasos; let i = index"
        role="listitem"
        [attr.aria-labelledby]="'step-title-' + i">

        <!-- Ícono del paso. aria-hidden="true" porque es decorativo; el texto real está en el título/desc -->
        <div class="icon" aria-hidden="true">
          <!-- ngSwitch: selecciona qué SVG pintar según `paso.icon` -->
          <ng-container [ngSwitch]="paso.icon">

            <!-- Caso 1: icono de portapapeles/póliza -->
            <svg *ngSwitchCase="'poliza'" 
                 viewBox="0 0 24 24" width="28" height="28" focusable="false">
              <!-- Paths con stroke (trazo) para estilo consistente con el color actual (currentColor) -->
              <path d="M9 2h6a2 2 0 0 1 2 2h1a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1a2 2 0 0 1 2-2z"
                    fill="none" stroke="currentColor" stroke-width="1.7"/>
              <rect x="8" y="2" width="8" height="4" rx="1.2" ry="1.2"
                    fill="none" stroke="currentColor" stroke-width="1.7"/>
              <path d="M8 10h8M8 14h8"
                    fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round"/>
            </svg>

            <!-- Caso 2: icono de verificación/firma -->
            <svg *ngSwitchCase="'verificar'" viewBox="0 0 24 24" width="28" height="28" focusable="false">
              <path d="M20 7L10 17l-4-4"
                    fill="none" stroke="currentColor" stroke-width="1.8"
                    stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M4 20h16"
                    fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/>
            </svg>

            <!-- Caso 3: icono de escudo/protegido -->
            <svg *ngSwitchCase="'escudo'" viewBox="0 0 24 24" width="28" height="28" focusable="false">
              <path d="M12 3l7 3v5c0 5-3.5 9-7 10-3.5-1-7-5-7-10V6l7-3z"
                    fill="none" stroke="currentColor" stroke-width="1.7" stroke-linejoin="round"/>
              <path d="M9 12l2 2 4-4"
                    fill="none" stroke="currentColor" stroke-width="1.7"
                    stroke-linecap="round" stroke-linejoin="round"/>
            </svg>

            <!-- (Opcional) *ngSwitchDefault: podrías mostrar un ícono por defecto si `paso.icon` no coincide -->
          </ng-container>
        </div>

        <!-- Título del paso. Le asignamos un id único por índice para enlazar desde aria-labelledby -->
        <h3 class="step-title" [id]="'step-title-' + i">
          {{ paso.titulo }}
        </h3>

        <!-- Descripción corta del paso -->
        <p class="desc">{{ paso.descripcion }}</p>
      </article>
    </div>
  </div>
</section>
